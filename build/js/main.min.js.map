{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/main.js","webpack:///./js/modules/address-data.js","webpack:///./js/modules/map.js","webpack:///./js/modules/menu.js","webpack:///./js/modules/product-list-content.js","webpack:///./js/modules/product-list.js","webpack:///./js/modules/promocode.js","webpack:///./js/utils/focus-lock.js","webpack:///./js/utils/formatter.js","webpack:///./js/utils/ios-checker.js","webpack:///./js/utils/ios-vh-fix.js","webpack:///./js/utils/mock.js","webpack:///./js/utils/scroll-lock.js"],"names":["window","addEventListener","iosVhFix","initNav","initProdactListHandler","renderProductsInCart","map","document","querySelector","ymaps","MAIN_COORDINATES","getMap","myMap","Map","center","zoom","controls","myPlacemark","Placemark","balloonContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","add","initMap","ready","mainNav","mainElement","breakpointNotMbile","matchMedia","isEscapeKey","evt","key","focusLock","FocusLock","scrollLock","ScrollLock","lockFocusScroll","lock","disableScrolling","unlockFocusScroll","unlock","enableScrolling","closeMenu","classList","remove","removeEventListener","closeMenulOnEscape","preventDefault","applySettings","textContainer","contains","textContent","menuHandler","matches","button","setAttribute","toggle","navBreakpointChecker","createProductCardString","image","name","code","season","size","color","price","discount","count","deleted","createDeleteMessageString","createRpodactDescriptionString","webp","webp2x","jpg","jpg2x","value","availible","checked","join","formatMoneyWithDecimal","SHIPPING","productsArr","products","productList","length","productCard","item","innerHTML","insertAdjacentHTML","calculateItemsinTitle","calculatePriceInSummary","findElementInArrByCode","productItem","itemCode","itemCodeValue","find","removeElementFromArr","filter","deleteProductItem","deleteButton","target","closest","deletedItem","restoreProductItem","restoreButton","calculateQuantity","quantityButton","minusButton","quantityValue","removeAttribute","priceItemInTitle","textItemInTitle","calculatePriceInTitle","getCorrectWordForm","summ","reduce","acc","next","calculateQuantityInTitle","children","getDeclension","one","few","many","quantity","calculateDiscount","startPrice","totalDiscount","totalSumm","calculateTotalDiscount","formatStringToNumber","calculatePromocodeDiscount","calculateTotalSumm","promocodeItem","promocodeButton","promocodeMessage","promocodeMessageCode","promocodeMessageText","promoDiscount","promocodesArr","promocodes","checkPromocode","promocodeValue","toString","promocode","applied","setTimeout","removePromocodeMessage","applyPromocode","SELECTORS","_lockedSelector","_focusableElements","_endElement","_selectors","_documentKeydownHandler","bind","activeElement","blur","focus","shiftKey","lockedSelector","startFocus","lockedElement","querySelectorAll","startElement","returnFocus","decimalCount","numberFormatted","formatNumberToDecimalReturnsZero","splittedNumber","split","replace","isNaN","toFixed","number","decimals","x","Math","pow","Number","val","deleteExtraDotsFromNumberStr","parseFloat","iosChecker","includes","navigator","platform","userAgent","MSInputMethodContext","documentMode","vh","innerHeight","documentElement","style","setProperty","_iosChecker","_lockClass","_scrollTop","_fixedBlockElements","innerWidth","clientWidth","self","pageYOffset","ScrollTop","body","scrollTop","dataset","scroll","_getBodyScrollTop","_getScrollbarWidth","paddingRight","forEach","block","top","scrollTo"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4C;AACL;AAChB;AACS;AACoD;AACvD;;AAE7B;;AAEAA,MAAM,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAEhD;EACA;;EAEAC,kEAAQ,EAAE;;EAEV;EACA;EACAC,6DAAO,EAAE;EACTC,oFAAsB,EAAE;EACxBC,kFAAoB,EAAE;;EAEtB;EACA;EACAL,MAAM,CAACC,gBAAgB,CAAC,MAAM,EAAE,YAAM,CACtC,CAAC,CAAC;AACJ,CAAC,CAAC;;AAEF;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2B;;;;;;;;;;;ACnDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAKA;;AAEA;AACA;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;;AAGA;AACA;AACA;AACA;AA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","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/main.js\");\n","import {iosVhFix} from './utils/ios-vh-fix';\nimport {initNav} from './modules/menu';\nimport './modules/map';\nimport './modules/address-data';\nimport {initProdactListHandler, renderProductsInCart} from './modules/product-list';\nimport './modules/promocode';\n\n// ---------------------------------\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\n  // Utils\n  // ---------------------------------\n\n  iosVhFix();\n\n  // Modules\n  // ---------------------------------\n  initNav();\n  initProdactListHandler();\n  renderProductsInCart()\n\n  // все скрипты должны быть в обработчике 'DOMContentLoaded', но не все в 'load'\n  // в load следует добавить скрипты, не участвующие в работе первого экрана\n  window.addEventListener('load', () => {\n  });\n});\n\n// ---------------------------------\n\n// ❗❗❗ обязательно установите плагины eslint, stylelint, editorconfig в редактор кода.\n\n// привязывайте js не на классы, а на дата атрибуты (data-validate)\n\n// вместо модификаторов .block--active используем утилитарные классы\n// .is-active || .is-open || .is-invalid и прочие (обязателен нейминг в два слова)\n// .select.select--opened ❌ ---> [data-select].is-open ✅\n\n// выносим все в дата атрибуты\n// url до иконок пинов карты, настройки автопрокрутки слайдера, url к json и т.д.\n\n// для адаптивного JS используется matchMedia и addListener\n// const breakpoint = window.matchMedia(`(min-width:1024px)`);\n// const breakpointChecker = () => {\n//   if (breakpoint.matches) {\n//   } else {\n//   }\n// };\n// breakpoint.addListener(breakpointChecker);\n// breakpointChecker();\n\n// используйте .closest(el)\n","// var token = \"f1881142d674484b8bc475c39e0045ee1d5cc866\";\n// var url = \"https://suggestions.dadata.ru/suggestions/api/4_1/rs/geolocate/address\";\n// var token = \"f1881142d674484b8bc475c39e0045ee1d5cc866\";\n// var coordinatesToAddress = { lat: 55.878, lon: 37.653 };\n// const addressInput = document.querySelector('.contacts-input__input--address');\n\n// const getOptions = (query) => {\n//   return {\n//     method: \"POST\",\n//     mode: \"cors\",\n//     headers: {\n//         \"Content-Type\": \"application/json\",\n//         \"Accept\": \"application/json\",\n//         \"Authorization\": \"Token \" + token\n//     },\n//     body: JSON.stringify(query)\n//   }\n// }\n\n// fetch(url, getOptions(coordinatesToAddress))\n//   .then(response => response.json())\n//   .then(result => addressInput.value = result.suggestions[0].value)\n//   .catch(error => console.log(\"error\", error));\n\n\n\n\n// let query = addressInput.value;\n\n// const Dadata = require('dadata-suggestions');\n// const dadata = new Dadata(token);\n\n\n// addressInput.addEventListener('change', (() => {\n//   query = addressInput.value;\n//   console.log(query);\n//   getData(query, onSuccess, onFail)\n// }))\n\n// const onFail = () => {\n//   console.log(\"Fail - try again\");\n// }\n\n// let coordinates = [];\n\n// const onSuccess = (data) => {\n//   if (data.suggestions && data.suggestions.length) {\n//     const {geo_lat, geo_lon} = data.suggestions[0].data;\n//     coordinates.push(geo_lat, geo_lon);\n//     console.log(coordinates);\n//     return coordinates;\n//   }\n// }\n\n// const getData = (onSuccess, onFail) => {\n//   dadata.address({query})\n//     .then((data) => {\n//       onSuccess(data)\n//     })\n//     .catch(onFail)\n// }\n\n// getData(onSuccess, onFail);\n\n\n///\n\n\n// dadata.address({ query })\n//     .then((data) => {\n//       if (data.suggestions.length) {\n//         console.log(data);\n//         const {geo_lat, geo_lon} = data.suggestions[0].data;\n//         coordinates.push(geo_lat, geo_lon);\n//       }\n//     })\n//     .catch(console.error);\n\n//     console.log(query);\n//     console.log(coordinates);\n\n// export {coordinates};","// import { coordinates } from \"./address-data\";\n\nconst map = document.querySelector(['#map']);\nconst ymaps = window.ymaps;\n\nconst MAIN_COORDINATES = [59.9386300, 30.3141300];\n\n\n\nconst getMap = () => {\n  let myMap = new ymaps.Map('map', {\n    center: MAIN_COORDINATES,\n    zoom: 16,\n    controls: [ ],\n  });\n\n  let myPlacemark = new ymaps.Placemark( MAIN_COORDINATES, {\n    balloonContent: '',\n  }, {\n    iconLayout: 'default#image',\n    iconImageHref: 'img/svg/pin.svg',\n    iconImageSize: [26, 38],\n    iconImageOffset: [-10, -20],\n  });\n\n  myMap.geoObjects.add(myPlacemark);\n}\n\nconst initMap = () => {\n  if (map) {\n    ymaps.ready(getMap);\n  }\n}\n\ninitMap();\n\n// const findAddressOnMap = () => {\n  \n// }\n\n\n// const addresInputInit = () => {\n//   addressInput.addEventListener('change', findAddressOnMap)\n// }\n\n// addresInputInit();","import {FocusLock} from '../utils/focus-lock.js';\nimport {ScrollLock} from '../utils/scroll-lock.js';\n\nconst mainNav = document.querySelector('.main-nav');\nconst mainElement = document.querySelector('main');\nconst breakpointNotMbile = window.matchMedia('(min-width: 768px)');\nconst isEscapeKey = (evt) => evt.key === 'Escape';\n\nconst focusLock = new FocusLock();\nconst scrollLock = new ScrollLock();\n\nconst lockFocusScroll = () => {\n  focusLock.lock('.main-nav');\n  scrollLock.disableScrolling();\n};\n\nconst unlockFocusScroll = () => {\n  focusLock.unlock();\n  scrollLock.enableScrolling();\n};\n\nconst closeMenu = () => {\n  mainNav.classList.remove('main-nav__list--opened');\n  mainNav.classList.add('main-nav__list--closed');\n  unlockFocusScroll();\n  mainElement.removeEventListener('click', closeMenu);\n};\n\nconst closeMenulOnEscape = (evt) => {\n  if (isEscapeKey(evt)) {\n    evt.preventDefault();\n    closeMenu();\n    document.removeEventListener('keydown', closeMenulOnEscape);\n  }\n};\n\nconst applySettings = () => {\n  const textContainer = mainNav.querySelector('span');\n\n  if (mainNav.classList.contains('main-nav__list--opened')) {\n    lockFocusScroll();\n    document.addEventListener('keydown', closeMenulOnEscape);\n    mainElement.addEventListener('click', closeMenu);\n    textContainer.textContent = 'Закрыть меню';\n  } else {\n    unlockFocusScroll();\n    mainElement.removeEventListener('click', closeMenu);\n    document.removeEventListener('keydown', closeMenulOnEscape);\n    textContainer.textContent = 'Открыть меню';\n  }\n};\n\nconst menuHandler = () => {\n  if (!breakpointNotMbile.matches) {\n    const button = mainNav.querySelector('button');\n    button.setAttribute('tabIndex', 2);\n\n    mainNav.classList.toggle('main-nav__list--opened');\n    mainNav.classList.toggle('main-nav__list--closed');\n\n    applySettings();\n  }\n};\n\nconst initNav = () => {\n  mainNav.addEventListener('click', menuHandler);\n};\n\nconst navBreakpointChecker = () => {\n  if (breakpointNotMbile.matches && mainNav.classList.contains('main-nav__list--opened')) {\n    closeMenu();\n  }\n};\n\nbreakpointNotMbile.addEventListener('change', navBreakpointChecker);\n\nexport {initNav};\n","import {formatMoneyWithDecimal} from './../utils/formatter.js';\n\nconst createProductCardString = ({image, name, code, season, size, color, price, discount, count, deleted}) => `\n  <li class=\"product-list__item product-card ${deleted ? 'product-card--deleted' : ''}\">\n    ${deleted ? createDeleteMessageString({name})+createRpodactDescriptionString({image, name, code, season, size, color, price, discount, count}) \n      : \n    createRpodactDescriptionString({image, name, code, season, size, color, price, discount, count})\n    }\n  </li>\n`\n\nconst createRpodactDescriptionString = ({image, name, code, season, size, color, price, discount, count}) => `\n  <div class=\"product-card__product-container\">\n    <div class=\"product-card__wrapper\">\n      <div class=\"product-card__content\">\n        <div class=\"product-card__img-scale\">\n          <picture>\n            <source type=\"image/webp\" srcset=\"${image.webp} 1x, ${image.webp2x} 2x\">\n            <img class=\"product-card__img\" src=\"${image.jpg}\" srcset=\"${image.jpg2x} 2x\" width=\"130\" height=\"160\" alt=\"${name}\">\n          </picture>\n        </div>\n        <h4 class=\"product-card__title\">${name}</h4>\n        <div class=\"product-card__about\">\n          <div class=\"product-card__code-wrapper\">\n            <p class=\"product-card__info\">Артикул<span class=\"product-card__code\">${code}</span></p>\n            <label>\n              <input class=\"visually-hidden product-card__code-input\" name=\"product-code\" value=\"${code}\">\n            </label>\n          </div>\n          <p class=\"product-card__info\">Сезон<span class=\"product-card__season\">${season}</span></p>\n          <fieldset class=\"product-card__filter-group\">\n            <legend class=\"visually-hidden\">Выберите размер</legend>\n            <ul class=\"product-card__size-list size-list\">\n              ${size.map(({value, availible, checked}) => `\n                <li class=\"size-list__item\">\n                  <label class=\"size-list__label\">\n                    <input class=\"size-list__input visually-hidden\" type=\"radio\" name=\"size_${code}\" value=\"${value}\" ${availible ? '' : 'disabled'} ${checked ? 'checked' : ''}>\n                    <span class=\"size-list__button\">${value}</span>\n                  </label>\n                </li>\n              `).join('')}\n            </ul>\n          </fieldset>\n          <fieldset class=\"product-card__filter-group\">\n            <legend class=\"visually-hidden\">Выберите цвет</legend>\n            <ul class=\"product-card__color-list color-list\">\n              ${color.map(({name, value, color, checked}) => `\n                <li class=\"color-list__item\">\n                  <label class=\"color-list__label\">\n                    <input class=\"color-list__input visually-hidden\" type=\"radio\" name=\"color_${code}\" value=\"${value}\" ${checked ? 'checked' : ''}>\n                    <span class=\"color-list__button\">\n                      <span class=\"color-list__marker\" style=\"background-color:${color};\"></span>\n                    </span>\n                    <span class=\"visually-hidden\">${name}</span>\n                  </label>\n                </li>\n              `).join('')}\n            </ul>\n          </fieldset>\n        </div>\n\n        <div class=\"product-card__price-section price-section\">\n          <div class=\"price-section__price-container\">\n          ${discount ? `\n            <p class=\"price-section__price-wrapper price-section__price-wrapper--old\">\n              <span class=\"price-section__old-price\">${formatMoneyWithDecimal(price)}</span>\n              <span class=\"price-section__rouble\"> ₽</span>\n            </p>\n          ` : ''}\n            <p class=\"price-section__price-wrapper\">\n              <span class=\"price-section__price\">${ discount ? `${formatMoneyWithDecimal(price - discount)}` : `${formatMoneyWithDecimal(price)}`}</span>\n              <span class=\"price-section__rouble\"> ₽</span>\n            </p>\n          </div>\n          <div class=\"price-section__quantity product-quantity\">\n            <button class=\"product-quantity__button product-quantity__button--minus\" ${count === 1 ? 'disabled' : ''}>\n              <span class=\"visually-hidden\">Уменьшить количество</span>\n            </button>\n            <label class=\"product-quantity__quantity-label\">\n              <span class=\"visually-hidden\">Количество товара</span>\n              <input class=\"product-quantity__quantity-field\" type=\"number\" name=\"product-quantity\" value=\"${count}\" min=\"1\" readonly>\n            </label>\n            <button class=\"product-quantity__button product-quantity__button--plus\">\n              <span class=\"visually-hidden\">Увеличить количество</span>\n            </button>\n          </div>\n          <div class=\"price-section__price-container\">\n          ${discount ? `\n            <p class=\"price-section__price-wrapper price-section__price-wrapper--old\">\n              <span class=\"price-section__old-price price-section__price--counted-old\">${formatMoneyWithDecimal(price * count)}</span>\n              <span class=\"price-section__rouble\"> ₽</span>\n            </p>\n          ` : ''}\n            <p class=\"price-section__price-wrapper price-section__price-wrapper--counted\">\n              <span class=\"price-section__price price-section__price--counted\">${ discount ? `${formatMoneyWithDecimal((price - discount) * count)}` : `${formatMoneyWithDecimal(price*count)}`}</span>\n              <span class=\"price-section__rouble\"> ₽</span>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <button class=\"product-card__delete-button delete-button\">\n        <span class=\"visually-hidden\">Удалить товар из корзины</span>\n      </button>\n    </div>\n  </div> \n`\n\nconst createDeleteMessageString = ({name}) => `\n  <div class=\"product-card__message-container\">\n    <div class=\"product-card__wrapper\">\n      <div class=\"product-card__message card-message\">\n        <p class=\"card-message__info\">Товар <span class=\"card-message__product-name\">${name}</span> был удален из корзины.</p>\n        <a class=\"card-message__link\">Восстановить</a>\n      </div>\n      <button class=\"product-card__delete-button product-card__delete-button--message delete-button delete-button--message\">\n        <span class=\"visually-hidden\">Удалить сообщение</span>\n      </button>\n    </div>\n  </div>\n`\n\nexport {createProductCardString}","import {formatMoneyWithDecimal, formatStringToNumber} from './../utils/formatter.js';\nimport {products} from './../utils/mock';\nimport {createProductCardString} from './product-list-content';\nimport {calculatePromocodeDiscount} from './promocode';\n\nconst SHIPPING = 200;\nlet productsArr = products;\nconst productList = document.querySelector('.product-list');\n\nconst renderProductsInCart = () => {\n  if (productsArr && productsArr.length) {\n    const productCard = productsArr.map((item) => createProductCardString(item)).join('');\n\n    productList.innerHTML = '';\n    productList.insertAdjacentHTML('beforeend', productCard);\n    calculateItemsinTitle();\n    calculatePriceInSummary();\n  }\n}\n\nconst findElementInArrByCode = (productItem) => {\n  const itemCode = productItem.querySelector('.product-card__code');\n  const itemCodeValue = itemCode.textContent;\n\n  return productsArr.find((item) => item.code === itemCodeValue);\n}\n\nconst removeElementFromArr = (productItem) => {\n  const itemCode = productItem.querySelector('.product-card__code');\n  const itemCodeValue = itemCode.textContent;\n\n  return productsArr.filter((item) => item.code !== itemCodeValue);\n}\n\nconst deleteProductItem = (evt) => {\n  const deleteButton = evt.target.closest('.delete-button');\n\n  if (!deleteButton) {\n    return\n  }\n\n  const productItem = evt.target.closest('li');\n  \n  if (deleteButton.classList.contains('delete-button--message')) {\n    productsArr = removeElementFromArr(productItem);\n  } else {\n    const deletedItem = findElementInArrByCode(productItem);\n    deletedItem.deleted = true;\n  }\n  \n  renderProductsInCart(); \n}\n\nconst restoreProductItem = (evt) => {\n  const restoreButton = evt.target.closest('.card-message__link');\n\n  if (!restoreButton) {\n    return\n  }\n\n  const productItem = evt.target.closest('li');\n\n  const deletedItem = findElementInArrByCode(productItem);\n  deletedItem.deleted = false;\n  renderProductsInCart(); \n}\n\nconst calculateQuantity = (evt) => {\n  const quantityButton = evt.target.closest('.product-quantity__button');\n\n  if (!quantityButton) {\n    return\n  }\n\n  const productItem = evt.target.closest('li');\n  const minusButton = productItem.querySelector('.product-quantity__button--minus');\n  const item = findElementInArrByCode(productItem);\n  const quantityValue = item.count;\n\n  if (quantityButton.classList.contains('product-quantity__button--minus') && quantityValue > 1 ) {\n\n    item.count -= 1;\n\n    if (quantityValue === 1) {\n      quantityButton.setAttribute(\"disabled\", \"disabled\");\n    }\n\n  } else if (quantityButton.classList.contains('product-quantity__button--plus')) {\n\n    item.count = item.count + 1;\n\n    if (quantityValue >= 2) {\n      minusButton.removeAttribute(\"disabled\");\n    }\n  }\n\n  renderProductsInCart();\n}\n\nconst calculateItemsinTitle = () => {\n  const priceItemInTitle = document.querySelector('.order__subtitle-price');\n  const textItemInTitle = document.querySelector('.order__subtitle-text');\n  \n  priceItemInTitle.textContent = calculatePriceInTitle();\n  textItemInTitle.textContent = getCorrectWordForm();\n}\n\nconst calculatePriceInTitle = () => {\n  const summ = productsArr.reduce((acc, next) => {\n    let value = 0\n    if (!next.deleted) {\n      value = (next.price) * next.count\n    }\n    return acc + value;\n  }, 0)\n\n  return formatMoneyWithDecimal(summ);\n}\n\nconst getCorrectWordForm = () => {\n  const value = calculateQuantityInTitle();\n  const children = getDeclension({ count: value, one: 'товар', few: 'товара', many: 'товаров' });\n  return children\n}\n\nconst calculateQuantityInTitle = () => {\n  const quantity = productsArr.reduce((acc, next) => {\n    let value = 0\n    if (!next.deleted) {\n      value = next.count\n    }\n    return acc + value;\n  }, 0)\n\n  return quantity;\n}\n\nconst calculateDiscount = () => {\n  const discount = productsArr.reduce((acc, next) => {\n    let value = 0\n    if (!next.deleted) {\n      value = next.discount * next.count\n    }\n    return acc + value;\n  }, 0)\n\n  return formatMoneyWithDecimal(discount);\n}\n\nconst calculatePriceInSummary = () => {\n  const startPrice = document.querySelector('.price-list__price--start');\n  const discount = document.querySelector('.price-list__price--product-discount');\n  const totalDiscount = document.querySelector('.price-list__price--total-discount');\n  const totalSumm = document.querySelector('.price-list__price--total-summ');\n\n  const calculateTotalDiscount = (formatStringToNumber(calculateDiscount()) + formatStringToNumber(calculatePromocodeDiscount()));\n  const calculateTotalSumm = (formatStringToNumber(calculatePriceInTitle()) - formatStringToNumber(calculateTotalDiscount) + formatStringToNumber(SHIPPING));\n\n  startPrice.textContent = calculatePriceInTitle();\n  discount.textContent = calculateDiscount();\n  totalDiscount.textContent = formatMoneyWithDecimal(calculateTotalDiscount);\n  totalSumm.textContent = formatMoneyWithDecimal(calculateTotalSumm);\n}\n\n// const chooseSize = () => {\n//   const siseList = evt.target.closest('.size-list');\n\n//   if (!siseList) {\n//     return\n//   }\n\n//   const sizeInputs = siseList.querySelectorAll('.size-list__input');\n//   for ( let sizeInput of sizeInputs) {\n//     sizeInput.value \n\n    \n//   }\n// }\n\nconst initProdactListHandler = () => {\n  if (productsArr && productsArr.length) { \n    productList.addEventListener('click', deleteProductItem);\n    productList.addEventListener('click', restoreProductItem);\n    productList.addEventListener('click', calculateQuantity);\n    // productList.addEventListener('click', chooseSize)\n  }\n} \n\nexport {initProdactListHandler, renderProductsInCart, calculatePriceInSummary}\n","import {promocodes} from './../utils/mock';\nimport {formatMoneyWithDecimal} from './../utils/formatter.js';\nimport {calculatePriceInSummary} from './product-list';\n\nconst promocodeItem = document.querySelector('.promocode__input');\nconst promocodeButton = document.querySelector('.promocode__button');\nconst promocodeMessage = document.querySelector('.promocode__message');\nconst promocodeMessageCode = document.querySelector('.promocode__message-code');\nconst promocodeMessageText = document.querySelector('.promocode__message-text');\nconst promoDiscount = document.querySelector('.price-list__price--promo');\n\nlet promocodesArr = promocodes;\n\nconst checkPromocode = () => {\n const promocodeValue = promocodeItem.value.toString();\n\n if (!promocodeValue.length) {\n  return\n }\n \n if (promocodesArr.find((item) => item.name === promocodeValue )) {\n    const promocode = promocodesArr.find((item) => item.name === promocodeValue);\n    promocode.applied = true;\n\n    promocodeItem.value = '';\n    promocodeMessage.classList.add('promocode__message--valid');\n    promocodeMessageText.textContent = ' - купон применен'\n    \n  } else {\n    promocodeItem.value = '';\n    promocodeMessage.classList.add('promocode__message--invalid');\n    promocodeMessageText.textContent = ' - купон не найден'\n  }\n\n  promocodeMessageCode.textContent = promocodeValue;\n  calculatePromocodeDiscount();\n  promoDiscount.textContent = calculatePromocodeDiscount();\n  calculatePriceInSummary();\n\n  setTimeout(removePromocodeMessage, 3000);\n} \n\nconst removePromocodeMessage = () => {\n  if (promocodeMessage.classList.contains('promocode__message--valid')) {\n    promocodeMessage.classList.remove('promocode__message--valid');\n  } else if (promocodeMessage.classList.contains('promocode__message--invalid')) {\n    promocodeMessage.classList.remove('promocode__message--invalid');\n  }\n}\n\nconst calculatePromocodeDiscount = () => {\n  const summ = promocodesArr.reduce((acc, next) => {\n    let value = 0\n    if (next.applied) {\n      value = (next.value)\n    }\n    return acc + value;\n  }, 0)\n  return formatMoneyWithDecimal(summ);\n}\n\nconst applyPromocode = () => {\n  promocodeButton.addEventListener('click', checkPromocode);\n}\n\napplyPromocode();\ncalculatePromocodeDiscount();\nexport {calculatePromocodeDiscount};\n","const SELECTORS = [\n  'a[href]',\n  'area[href]',\n  'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n  'select:not([disabled]):not([aria-hidden])',\n  'textarea:not([disabled]):not([aria-hidden])',\n  'button:not([disabled]):not([aria-hidden])',\n  'iframe',\n  'object',\n  'embed',\n  '[contenteditable]',\n  '[tabindex]:not([tabindex^=\"-\"])'\n];\n\nexport class FocusLock {\n  constructor() {\n    this._lockedSelector = null;\n    this._focusableElements = null;\n    this._endElement = null;\n    this._selectors = SELECTORS;\n\n    this._documentKeydownHandler = this._documentKeydownHandler.bind(this);\n  }\n\n  _documentKeydownHandler(evt) {\n    const activeElement = document.activeElement;\n    if (evt.key === 'Tab') {\n      if (!this._focusableElements.length) {\n        evt.preventDefault();\n        activeElement.blur();\n        return;\n      }\n      if (this._focusableElements.length === 1) {\n        evt.preventDefault();\n        this._focusableElements[0].focus();\n        return;\n      }\n      if (this._focusableElements.length > 1 && !activeElement.closest(this._lockedSelector)) {\n        evt.preventDefault();\n        this._focusableElements[0].focus();\n        return;\n      }\n    }\n    if (evt.key === 'Tab' && !evt.shiftKey && activeElement === this._focusableElements[this._focusableElements.length - 1]) {\n      evt.preventDefault();\n      this._focusableElements[0].focus();\n    }\n    if (evt.key === 'Tab' && evt.shiftKey && activeElement === this._focusableElements[0]) {\n      evt.preventDefault();\n      this._focusableElements[this._focusableElements.length - 1].focus();\n    }\n  }\n\n  lock(lockedSelector, startFocus = true) {\n    this.unlock();\n    this._lockedSelector = lockedSelector;\n    const lockedElement = document.querySelector(this._lockedSelector);\n    if (!lockedElement) {\n      return;\n    }\n    this._focusableElements = lockedElement.querySelectorAll(this._selectors);\n    this._endElement = document.activeElement;\n    const startElement = lockedElement.querySelector('[data-focus]') || this._focusableElements[0];\n    if (this._endElement) {\n      this._endElement.blur();\n    }\n    if (startElement && startFocus) {\n      startElement.focus();\n    }\n    document.addEventListener('keydown', this._documentKeydownHandler);\n  }\n\n  unlock(returnFocus = true) {\n    if (this._endElement && returnFocus) {\n      this._endElement.focus();\n    }\n    this._lockedSelector = null;\n    this._focusableElements = null;\n    this._endElement = null;\n    document.removeEventListener('keydown', this._documentKeydownHandler);\n  }\n}\n\nwindow.focusLock = new FocusLock();\n","const formatMoneyWithDecimal = (value, decimalCount = 0) => {\n  let numberFormatted = formatNumberToDecimalReturnsZero(value, decimalCount);\n  const splittedNumber = numberFormatted.toString().split('.');\n  return splittedNumber[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \") + (splittedNumber[1] ? '.'+splittedNumber[1] : '');\n}\n\nconst formatNumberToDecimalReturnsZero = (value, decimalCount = 0) => {\n  value = (`${value}`).replace(/ /g, '').replace(',', '.')\n  return isNaN(+value) ? '0.0' : toFixed(+value, decimalCount)\n}\n\nconst toFixed = (number, decimals) => {\n  const x = Math.pow(10, Number(decimals) + 1);\n  return (Number(number) + (1 / x)).toFixed(decimals)\n}\n\nconst formatStringToNumber = (val) => {\n  if (!val) return 0;\n\n  val = deleteExtraDotsFromNumberStr(val)\n\n  return parseFloat(`${val}`.replace(/\\s/g, ''));\n}\n\nconst deleteExtraDotsFromNumberStr = (value) => {\n  value = (`${value}`).replace(/ /g, '').replace(/,/g, '.');\n\n  return value\n}\n\nexport {formatStringToNumber, formatMoneyWithDecimal};\n","export const iosChecker = () => {\n  return [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod'\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes('Mac') && 'ontouchend' in document);\n};\n","import {iosChecker} from './ios-checker';\n\nconst iosVhFix = () => {\n  if (!(!!window.MSInputMethodContext && !!document.documentMode)) {\n    if (iosChecker()) {\n      let vh = window.innerHeight * 0.01;\n      document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n      window.addEventListener('resize', function () {\n        vh = window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\n      });\n    }\n  }\n};\n\nexport {iosVhFix};\n","const products = [\n  {\n    name: 'Утепленная стеганная куртка женская Top Hills',\n    image: {\n      jpg: './img/top-hills.jpg',\n      jpg2x: './img/top-hills@2x.jpg',\n      webp: './img/top-hills.webp',\n      webp2x: './img/top-hills@2x.webp',\n    },\n    code: '512-05',\n    season: 'Осень-зима',\n    price: 12000,\n    discount: 2000,\n    count: 2,\n    size: [{\n      value: 'XS',\n      availible: true,\n      checked: false,\n    },\n    {\n      value: 'S',\n      availible: true,\n      checked: false,\n    },\n    {\n      value: 'M',\n      availible: true,\n      checked: true,\n    },\n    {\n      value: 'L',\n      availible: true,\n      checked: false,\n    },\n    {\n      value: 'XL',\n      availible: true,\n      checked: false,\n    }],\n    color: [{\n      name: 'Черный',\n      value: 'black',\n      color: '#444444',\n      checked: true,\n    },\n    {\n      name: 'Cиний',\n      value: 'blue',\n      color: '#106DA2',\n      checked: false,\n    },\n    {\n      name: 'Коричневый',\n      value: 'brown',\n      color: '#AE6D0C',\n      checked: false,\n    }],\n    deleted: false,\n  },\n  {\n    name: 'Наименование товара',\n    image: {\n      jpg: './img/zolla.jpg',\n      jpg2x: './img/zolla@2x.jpg',\n      webp: './img/zolla.webp',\n      webp2x: './img/zolla@2x.webp',\n    },\n    code: '891-257',\n    season: 'Демисезон',\n    price: 500,\n    discount: 0,\n    count: 1,\n    size: [{\n      value: 'XS',\n      availible: true,\n      checked: false,\n    },\n    {\n      value: 'S',\n      availible: true,\n      checked: true,\n    },\n    {\n      value: 'M',\n      availible: true,\n      checked: false,\n    },\n    {\n      value: 'L',\n      availible: false,\n      checked: false,\n    },\n    {\n      value: 'XL',\n      availible: false,\n      checked: false,\n    }],\n    color: [{\n      name: 'Черный',\n      value: 'black',\n      color: '#444444',\n      checked: true,\n    }],\n    deleted: true,\n  },\n  {\n    name: 'Вязанная шапка Zolla',\n    image: {\n      jpg: './img/zolla.jpg',\n      jpg2x: './img/zolla@2x.jpg',\n      webp: './img/zolla.webp',\n      webp2x: './img/zolla@2x.webp',\n    },\n    code: '891-256',\n    season: 'Демисезон',\n    price: 500,\n    discount: 0,\n    count: 1,\n    size: [{\n      value: 'XS',\n      availible: true,\n      checked: false,\n    },\n    {\n      value: 'S',\n      availible: true,\n      checked: true,\n    },\n    {\n      value: 'M',\n      availible: true,\n      checked: false,\n    },\n    {\n      value: 'L',\n      availible: false,\n      checked: false,\n    },\n    {\n      value: 'XL',\n      availible: false,\n      checked: false,\n    }],\n    color: [{\n      name: 'Черный',\n      value: 'black',\n      color: '#444444',\n      checked: true,\n    }],\n    deleted: false,\n  },\n]\n\n\nconst promocodes = [\n  {\n    name: '1B6D9FC',\n    value: 500,\n    applied: true,\n  },\n  {\n    name: '123456',\n    value: 1000,\n    applied: false,\n  },\n]\n\nexport {products, promocodes};","import {iosChecker} from './ios-checker';\n\nexport class ScrollLock {\n  constructor() {\n    this._iosChecker = iosChecker;\n    this._lockClass = this._iosChecker() ? 'scroll-lock-ios' : 'scroll-lock';\n    this._scrollTop = null;\n    this._fixedBlockElements = document.querySelectorAll('[data-fix-block]');\n  }\n\n  _getScrollbarWidth() {\n    return window.innerWidth - document.documentElement.clientWidth;\n  }\n\n  _getBodyScrollTop() {\n    return (\n      self.pageYOffset ||\n      (document.documentElement && document.documentElement.ScrollTop) ||\n      (document.body && document.body.scrollTop)\n    );\n  }\n\n  disableScrolling() {\n    this._scrollTop = document.body.dataset.scroll = document.body.dataset.scroll ? document.body.dataset.scroll : this._getBodyScrollTop();\n    if (this._getScrollbarWidth()) {\n      document.body.style.paddingRight = `${this._getScrollbarWidth()}px`;\n      this._fixedBlockElements.forEach((block) => {\n        block.style.paddingRight = `${this._getScrollbarWidth()}px`;\n      });\n    }\n    document.body.style.top = `-${this._scrollTop}px`;\n    document.body.classList.add(this._lockClass);\n  }\n\n  enableScrolling() {\n    document.body.classList.remove(this._lockClass);\n    window.scrollTo(0, +document.body.dataset.scroll);\n    document.body.style.paddingRight = null;\n    document.body.style.top = null;\n    this._fixedBlockElements.forEach((block) => {\n      block.style.paddingRight = null;\n    });\n    document.body.removeAttribute('data-scroll');\n    this._scrollTop = null;\n  }\n}\n\nwindow.scrollLock = new ScrollLock();\n"],"sourceRoot":""}