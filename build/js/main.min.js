/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils_ios_vh_fix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/ios-vh-fix */ "./js/utils/ios-vh-fix.js");
/* harmony import */ var _modules_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/menu */ "./js/modules/menu.js");
/* harmony import */ var _modules_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/map */ "./js/modules/map.js");
/* harmony import */ var _modules_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_map__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _modules_address_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/address-data */ "./js/modules/address-data.js");
/* harmony import */ var _modules_address_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_address_data__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _modules_product_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/product-list */ "./js/modules/product-list.js");
/* harmony import */ var _modules_promocode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/promocode */ "./js/modules/promocode.js");







// ---------------------------------

window.addEventListener('DOMContentLoaded', function () {
  // Utils
  // ---------------------------------

  Object(_utils_ios_vh_fix__WEBPACK_IMPORTED_MODULE_0__["iosVhFix"])();

  // Modules
  // ---------------------------------
  Object(_modules_menu__WEBPACK_IMPORTED_MODULE_1__["initNav"])();
  Object(_modules_product_list__WEBPACK_IMPORTED_MODULE_4__["initProdactListHandler"])();
  Object(_modules_product_list__WEBPACK_IMPORTED_MODULE_4__["renderProductsInCart"])();

  // все скрипты должны быть в обработчике 'DOMContentLoaded', но не все в 'load'
  // в load следует добавить скрипты, не участвующие в работе первого экрана
  window.addEventListener('load', function () {});
});

// ---------------------------------

// ❗❗❗ обязательно установите плагины eslint, stylelint, editorconfig в редактор кода.

// привязывайте js не на классы, а на дата атрибуты (data-validate)

// вместо модификаторов .block--active используем утилитарные классы
// .is-active || .is-open || .is-invalid и прочие (обязателен нейминг в два слова)
// .select.select--opened ❌ ---> [data-select].is-open ✅

// выносим все в дата атрибуты
// url до иконок пинов карты, настройки автопрокрутки слайдера, url к json и т.д.

// для адаптивного JS используется matchMedia и addListener
// const breakpoint = window.matchMedia(`(min-width:1024px)`);
// const breakpointChecker = () => {
//   if (breakpoint.matches) {
//   } else {
//   }
// };
// breakpoint.addListener(breakpointChecker);
// breakpointChecker();

// используйте .closest(el)

/***/ }),

/***/ "./js/modules/address-data.js":
/*!************************************!*\
  !*** ./js/modules/address-data.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// var token = "f1881142d674484b8bc475c39e0045ee1d5cc866";
// var url = "https://suggestions.dadata.ru/suggestions/api/4_1/rs/geolocate/address";
// var token = "f1881142d674484b8bc475c39e0045ee1d5cc866";
// var coordinatesToAddress = { lat: 55.878, lon: 37.653 };
// const addressInput = document.querySelector('.contacts-input__input--address');

// const getOptions = (query) => {
//   return {
//     method: "POST",
//     mode: "cors",
//     headers: {
//         "Content-Type": "application/json",
//         "Accept": "application/json",
//         "Authorization": "Token " + token
//     },
//     body: JSON.stringify(query)
//   }
// }

// fetch(url, getOptions(coordinatesToAddress))
//   .then(response => response.json())
//   .then(result => addressInput.value = result.suggestions[0].value)
//   .catch(error => console.log("error", error));

// let query = addressInput.value;

// const Dadata = require('dadata-suggestions');
// const dadata = new Dadata(token);

// addressInput.addEventListener('change', (() => {
//   query = addressInput.value;
//   console.log(query);
//   getData(query, onSuccess, onFail)
// }))

// const onFail = () => {
//   console.log("Fail - try again");
// }

// let coordinates = [];

// const onSuccess = (data) => {
//   if (data.suggestions && data.suggestions.length) {
//     const {geo_lat, geo_lon} = data.suggestions[0].data;
//     coordinates.push(geo_lat, geo_lon);
//     console.log(coordinates);
//     return coordinates;
//   }
// }

// const getData = (onSuccess, onFail) => {
//   dadata.address({query})
//     .then((data) => {
//       onSuccess(data)
//     })
//     .catch(onFail)
// }

// getData(onSuccess, onFail);

///

// dadata.address({ query })
//     .then((data) => {
//       if (data.suggestions.length) {
//         console.log(data);
//         const {geo_lat, geo_lon} = data.suggestions[0].data;
//         coordinates.push(geo_lat, geo_lon);
//       }
//     })
//     .catch(console.error);

//     console.log(query);
//     console.log(coordinates);

// export {coordinates};

/***/ }),

/***/ "./js/modules/map.js":
/*!***************************!*\
  !*** ./js/modules/map.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

// import { coordinates } from "./address-data";

var map = document.querySelector(['#map']);
var ymaps = window.ymaps;
var MAIN_COORDINATES = [59.9386300, 30.3141300];
var getMap = function getMap() {
  var myMap = new ymaps.Map('map', {
    center: MAIN_COORDINATES,
    zoom: 16,
    controls: []
  });
  var myPlacemark = new ymaps.Placemark(MAIN_COORDINATES, {
    balloonContent: ''
  }, {
    iconLayout: 'default#image',
    iconImageHref: 'img/svg/pin.svg',
    iconImageSize: [26, 38],
    iconImageOffset: [-10, -20]
  });
  myMap.geoObjects.add(myPlacemark);
};
var initMap = function initMap() {
  if (map) {
    ymaps.ready(getMap);
  }
};
initMap();

// const findAddressOnMap = () => {

// }

// const addresInputInit = () => {
//   addressInput.addEventListener('change', findAddressOnMap)
// }

// addresInputInit();

/***/ }),

/***/ "./js/modules/menu.js":
/*!****************************!*\
  !*** ./js/modules/menu.js ***!
  \****************************/
/*! exports provided: initNav */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initNav", function() { return initNav; });
/* harmony import */ var _utils_focus_lock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/focus-lock.js */ "./js/utils/focus-lock.js");
/* harmony import */ var _utils_scroll_lock_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/scroll-lock.js */ "./js/utils/scroll-lock.js");


var mainNav = document.querySelector('.main-nav');
var mainElement = document.querySelector('main');
var breakpointNotMbile = window.matchMedia('(min-width: 768px)');
var isEscapeKey = function isEscapeKey(evt) {
  return evt.key === 'Escape';
};
var focusLock = new _utils_focus_lock_js__WEBPACK_IMPORTED_MODULE_0__["FocusLock"]();
var scrollLock = new _utils_scroll_lock_js__WEBPACK_IMPORTED_MODULE_1__["ScrollLock"]();
var lockFocusScroll = function lockFocusScroll() {
  focusLock.lock('.main-nav');
  scrollLock.disableScrolling();
};
var unlockFocusScroll = function unlockFocusScroll() {
  focusLock.unlock();
  scrollLock.enableScrolling();
};
var closeMenu = function closeMenu() {
  mainNav.classList.remove('main-nav__list--opened');
  mainNav.classList.add('main-nav__list--closed');
  unlockFocusScroll();
  mainElement.removeEventListener('click', closeMenu);
};
var closeMenulOnEscape = function closeMenulOnEscape(evt) {
  if (isEscapeKey(evt)) {
    evt.preventDefault();
    closeMenu();
    document.removeEventListener('keydown', closeMenulOnEscape);
  }
};
var applySettings = function applySettings() {
  var textContainer = mainNav.querySelector('span');
  if (mainNav.classList.contains('main-nav__list--opened')) {
    lockFocusScroll();
    document.addEventListener('keydown', closeMenulOnEscape);
    mainElement.addEventListener('click', closeMenu);
    textContainer.textContent = 'Закрыть меню';
  } else {
    unlockFocusScroll();
    mainElement.removeEventListener('click', closeMenu);
    document.removeEventListener('keydown', closeMenulOnEscape);
    textContainer.textContent = 'Открыть меню';
  }
};
var menuHandler = function menuHandler() {
  if (!breakpointNotMbile.matches) {
    var button = mainNav.querySelector('button');
    button.setAttribute('tabIndex', 2);
    mainNav.classList.toggle('main-nav__list--opened');
    mainNav.classList.toggle('main-nav__list--closed');
    applySettings();
  }
};
var initNav = function initNav() {
  mainNav.addEventListener('click', menuHandler);
};
var navBreakpointChecker = function navBreakpointChecker() {
  if (breakpointNotMbile.matches && mainNav.classList.contains('main-nav__list--opened')) {
    closeMenu();
  }
};
breakpointNotMbile.addEventListener('change', navBreakpointChecker);


/***/ }),

/***/ "./js/modules/product-list-content.js":
/*!********************************************!*\
  !*** ./js/modules/product-list-content.js ***!
  \********************************************/
/*! exports provided: createProductCardString */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createProductCardString", function() { return createProductCardString; });
/* harmony import */ var _utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../utils/formatter.js */ "./js/utils/formatter.js");

var createProductCardString = function createProductCardString(_ref) {
  var image = _ref.image,
    name = _ref.name,
    code = _ref.code,
    season = _ref.season,
    size = _ref.size,
    color = _ref.color,
    price = _ref.price,
    discount = _ref.discount,
    count = _ref.count,
    deleted = _ref.deleted;
  return "\n  <li class=\"product-list__item product-card ".concat(deleted ? 'product-card--deleted' : '', "\">\n    ").concat(deleted ? createDeleteMessageString({
    name: name
  }) + createRpodactDescriptionString({
    image: image,
    name: name,
    code: code,
    season: season,
    size: size,
    color: color,
    price: price,
    discount: discount,
    count: count
  }) : createRpodactDescriptionString({
    image: image,
    name: name,
    code: code,
    season: season,
    size: size,
    color: color,
    price: price,
    discount: discount,
    count: count
  }), "\n  </li>\n");
};
var createRpodactDescriptionString = function createRpodactDescriptionString(_ref2) {
  var image = _ref2.image,
    name = _ref2.name,
    code = _ref2.code,
    season = _ref2.season,
    size = _ref2.size,
    color = _ref2.color,
    price = _ref2.price,
    discount = _ref2.discount,
    count = _ref2.count;
  return "\n  <div class=\"product-card__product-container\">\n    <div class=\"product-card__wrapper\">\n      <div class=\"product-card__content\">\n        <div class=\"product-card__img-scale\">\n          <picture>\n            <source type=\"image/webp\" srcset=\"".concat(image.webp, " 1x, ").concat(image.webp2x, " 2x\">\n            <img class=\"product-card__img\" src=\"").concat(image.jpg, "\" srcset=\"").concat(image.jpg2x, " 2x\" width=\"130\" height=\"160\" alt=\"").concat(name, "\">\n          </picture>\n        </div>\n        <h4 class=\"product-card__title\">").concat(name, "</h4>\n        <div class=\"product-card__about\">\n          <div class=\"product-card__code-wrapper\">\n            <p class=\"product-card__info\">\u0410\u0440\u0442\u0438\u043A\u0443\u043B<span class=\"product-card__code\">").concat(code, "</span></p>\n            <label>\n              <input class=\"visually-hidden product-card__code-input\" name=\"product-code\" value=\"").concat(code, "\">\n            </label>\n          </div>\n          <p class=\"product-card__info\">\u0421\u0435\u0437\u043E\u043D<span class=\"product-card__season\">").concat(season, "</span></p>\n          <fieldset class=\"product-card__filter-group\">\n            <legend class=\"visually-hidden\">\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u043C\u0435\u0440</legend>\n            <ul class=\"product-card__size-list size-list\">\n              ").concat(size.map(function (_ref3) {
    var value = _ref3.value,
      availible = _ref3.availible,
      checked = _ref3.checked;
    return "\n                <li class=\"size-list__item\">\n                  <label class=\"size-list__label\">\n                    <input class=\"size-list__input visually-hidden\" type=\"radio\" name=\"size_".concat(code, "\" value=\"").concat(value, "\" ").concat(availible ? '' : 'disabled', " ").concat(checked ? 'checked' : '', ">\n                    <span class=\"size-list__button\">").concat(value, "</span>\n                  </label>\n                </li>\n              ");
  }).join(''), "\n            </ul>\n          </fieldset>\n          <fieldset class=\"product-card__filter-group\">\n            <legend class=\"visually-hidden\">\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0446\u0432\u0435\u0442</legend>\n            <ul class=\"product-card__color-list color-list\">\n              ").concat(color.map(function (_ref4) {
    var name = _ref4.name,
      value = _ref4.value,
      color = _ref4.color,
      checked = _ref4.checked;
    return "\n                <li class=\"color-list__item\">\n                  <label class=\"color-list__label\">\n                    <input class=\"color-list__input visually-hidden\" type=\"radio\" name=\"color_".concat(code, "\" value=\"").concat(value, "\" ").concat(checked ? 'checked' : '', ">\n                    <span class=\"color-list__button\">\n                      <span class=\"color-list__marker\" style=\"background-color:").concat(color, ";\"></span>\n                    </span>\n                    <span class=\"visually-hidden\">").concat(name, "</span>\n                  </label>\n                </li>\n              ");
  }).join(''), "\n            </ul>\n          </fieldset>\n        </div>\n\n        <div class=\"product-card__price-section price-section\">\n          <div class=\"price-section__price-container\">\n          ").concat(discount ? "\n            <p class=\"price-section__price-wrapper price-section__price-wrapper--old\">\n              <span class=\"price-section__old-price\">".concat(Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(price), "</span>\n              <span class=\"price-section__rouble\"> \u20BD</span>\n            </p>\n          ") : '', "\n            <p class=\"price-section__price-wrapper\">\n              <span class=\"price-section__price\">").concat(discount ? "".concat(Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(price - discount)) : "".concat(Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(price)), "</span>\n              <span class=\"price-section__rouble\"> \u20BD</span>\n            </p>\n          </div>\n          <div class=\"price-section__quantity product-quantity\">\n            <button class=\"product-quantity__button product-quantity__button--minus\" ").concat(count === 1 ? 'disabled' : '', ">\n              <span class=\"visually-hidden\">\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E</span>\n            </button>\n            <label class=\"product-quantity__quantity-label\">\n              <span class=\"visually-hidden\">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0442\u043E\u0432\u0430\u0440\u0430</span>\n              <input class=\"product-quantity__quantity-field\" type=\"number\" name=\"product-quantity\" value=\"").concat(count, "\" min=\"1\" readonly>\n            </label>\n            <button class=\"product-quantity__button product-quantity__button--plus\">\n              <span class=\"visually-hidden\">\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E</span>\n            </button>\n          </div>\n          <div class=\"price-section__price-container\">\n          ").concat(discount ? "\n            <p class=\"price-section__price-wrapper price-section__price-wrapper--old\">\n              <span class=\"price-section__old-price price-section__price--counted-old\">".concat(Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(price * count), "</span>\n              <span class=\"price-section__rouble\"> \u20BD</span>\n            </p>\n          ") : '', "\n            <p class=\"price-section__price-wrapper price-section__price-wrapper--counted\">\n              <span class=\"price-section__price price-section__price--counted\">").concat(discount ? "".concat(Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])((price - discount) * count)) : "".concat(Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(price * count)), "</span>\n              <span class=\"price-section__rouble\"> \u20BD</span>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <button class=\"product-card__delete-button delete-button\">\n        <span class=\"visually-hidden\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0442\u043E\u0432\u0430\u0440 \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B</span>\n      </button>\n    </div>\n  </div> \n");
};
var createDeleteMessageString = function createDeleteMessageString(_ref5) {
  var name = _ref5.name;
  return "\n  <div class=\"product-card__message-container\">\n    <div class=\"product-card__wrapper\">\n      <div class=\"product-card__message card-message\">\n        <p class=\"card-message__info\">\u0422\u043E\u0432\u0430\u0440 <span class=\"card-message__product-name\">".concat(name, "</span> \u0431\u044B\u043B \u0443\u0434\u0430\u043B\u0435\u043D \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B.</p>\n        <a class=\"card-message__link\">\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C</a>\n      </div>\n      <button class=\"product-card__delete-button product-card__delete-button--message delete-button delete-button--message\">\n        <span class=\"visually-hidden\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435</span>\n      </button>\n    </div>\n  </div>\n");
};


/***/ }),

/***/ "./js/modules/product-list.js":
/*!************************************!*\
  !*** ./js/modules/product-list.js ***!
  \************************************/
/*! exports provided: initProdactListHandler, renderProductsInCart, calculatePriceInSummary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initProdactListHandler", function() { return initProdactListHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderProductsInCart", function() { return renderProductsInCart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculatePriceInSummary", function() { return calculatePriceInSummary; });
/* harmony import */ var _utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../utils/formatter.js */ "./js/utils/formatter.js");
/* harmony import */ var _utils_mock__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../utils/mock */ "./js/utils/mock.js");
/* harmony import */ var _product_list_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./product-list-content */ "./js/modules/product-list-content.js");
/* harmony import */ var _promocode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./promocode */ "./js/modules/promocode.js");




var SHIPPING = 200;
var productsArr = _utils_mock__WEBPACK_IMPORTED_MODULE_1__["products"];
var productList = document.querySelector('.product-list');
var renderProductsInCart = function renderProductsInCart() {
  if (productsArr && productsArr.length) {
    var productCard = productsArr.map(function (item) {
      return Object(_product_list_content__WEBPACK_IMPORTED_MODULE_2__["createProductCardString"])(item);
    }).join('');
    productList.innerHTML = '';
    productList.insertAdjacentHTML('beforeend', productCard);
    calculateItemsinTitle();
    calculatePriceInSummary();
  }
};
var findElementInArrByCode = function findElementInArrByCode(productItem) {
  var itemCode = productItem.querySelector('.product-card__code');
  var itemCodeValue = itemCode.textContent;
  return productsArr.find(function (item) {
    return item.code === itemCodeValue;
  });
};
var removeElementFromArr = function removeElementFromArr(productItem) {
  var itemCode = productItem.querySelector('.product-card__code');
  var itemCodeValue = itemCode.textContent;
  return productsArr.filter(function (item) {
    return item.code !== itemCodeValue;
  });
};
var deleteProductItem = function deleteProductItem(evt) {
  var deleteButton = evt.target.closest('.delete-button');
  if (!deleteButton) {
    return;
  }
  var productItem = evt.target.closest('li');
  if (deleteButton.classList.contains('delete-button--message')) {
    productsArr = removeElementFromArr(productItem);
  } else {
    var deletedItem = findElementInArrByCode(productItem);
    deletedItem.deleted = true;
  }
  renderProductsInCart();
};
var restoreProductItem = function restoreProductItem(evt) {
  var restoreButton = evt.target.closest('.card-message__link');
  if (!restoreButton) {
    return;
  }
  var productItem = evt.target.closest('li');
  var deletedItem = findElementInArrByCode(productItem);
  deletedItem.deleted = false;
  renderProductsInCart();
};
var calculateQuantity = function calculateQuantity(evt) {
  var quantityButton = evt.target.closest('.product-quantity__button');
  if (!quantityButton) {
    return;
  }
  var productItem = evt.target.closest('li');
  var minusButton = productItem.querySelector('.product-quantity__button--minus');
  var item = findElementInArrByCode(productItem);
  var quantityValue = item.count;
  if (quantityButton.classList.contains('product-quantity__button--minus') && quantityValue > 1) {
    item.count -= 1;
    if (quantityValue === 1) {
      quantityButton.setAttribute("disabled", "disabled");
    }
  } else if (quantityButton.classList.contains('product-quantity__button--plus')) {
    item.count = item.count + 1;
    if (quantityValue >= 2) {
      minusButton.removeAttribute("disabled");
    }
  }
  renderProductsInCart();
};
var calculateItemsinTitle = function calculateItemsinTitle() {
  var priceItemInTitle = document.querySelector('.order__subtitle-price');
  var textItemInTitle = document.querySelector('.order__subtitle-text');
  priceItemInTitle.textContent = calculatePriceInTitle();
  textItemInTitle.textContent = getCorrectWordForm();
};
var calculatePriceInTitle = function calculatePriceInTitle() {
  var summ = productsArr.reduce(function (acc, next) {
    var value = 0;
    if (!next.deleted) {
      value = next.price * next.count;
    }
    return acc + value;
  }, 0);
  return Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(summ);
};
var getCorrectWordForm = function getCorrectWordForm() {
  var value = calculateQuantityInTitle();
  var children = getDeclension({
    count: value,
    one: 'товар',
    few: 'товара',
    many: 'товаров'
  });
  return children;
};
var calculateQuantityInTitle = function calculateQuantityInTitle() {
  var quantity = productsArr.reduce(function (acc, next) {
    var value = 0;
    if (!next.deleted) {
      value = next.count;
    }
    return acc + value;
  }, 0);
  return quantity;
};
var calculateDiscount = function calculateDiscount() {
  var discount = productsArr.reduce(function (acc, next) {
    var value = 0;
    if (!next.deleted) {
      value = next.discount * next.count;
    }
    return acc + value;
  }, 0);
  return Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(discount);
};
var calculatePriceInSummary = function calculatePriceInSummary() {
  var startPrice = document.querySelector('.price-list__price--start');
  var discount = document.querySelector('.price-list__price--product-discount');
  var totalDiscount = document.querySelector('.price-list__price--total-discount');
  var totalSumm = document.querySelector('.price-list__price--total-summ');
  var calculateTotalDiscount = Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatStringToNumber"])(calculateDiscount()) + Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatStringToNumber"])(Object(_promocode__WEBPACK_IMPORTED_MODULE_3__["calculatePromocodeDiscount"])());
  var calculateTotalSumm = Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatStringToNumber"])(calculatePriceInTitle()) - Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatStringToNumber"])(calculateTotalDiscount) + Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatStringToNumber"])(SHIPPING);
  startPrice.textContent = calculatePriceInTitle();
  discount.textContent = calculateDiscount();
  totalDiscount.textContent = Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(calculateTotalDiscount);
  totalSumm.textContent = Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_0__["formatMoneyWithDecimal"])(calculateTotalSumm);
};

// const chooseSize = () => {
//   const siseList = evt.target.closest('.size-list');

//   if (!siseList) {
//     return
//   }

//   const sizeInputs = siseList.querySelectorAll('.size-list__input');
//   for ( let sizeInput of sizeInputs) {
//     sizeInput.value 

//   }
// }

var initProdactListHandler = function initProdactListHandler() {
  if (productsArr && productsArr.length) {
    productList.addEventListener('click', deleteProductItem);
    productList.addEventListener('click', restoreProductItem);
    productList.addEventListener('click', calculateQuantity);
    // productList.addEventListener('click', chooseSize)
  }
};



/***/ }),

/***/ "./js/modules/promocode.js":
/*!*********************************!*\
  !*** ./js/modules/promocode.js ***!
  \*********************************/
/*! exports provided: calculatePromocodeDiscount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculatePromocodeDiscount", function() { return calculatePromocodeDiscount; });
/* harmony import */ var _utils_mock__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../utils/mock */ "./js/utils/mock.js");
/* harmony import */ var _utils_formatter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../utils/formatter.js */ "./js/utils/formatter.js");
/* harmony import */ var _product_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./product-list */ "./js/modules/product-list.js");



var promocodeItem = document.querySelector('.promocode__input');
var promocodeButton = document.querySelector('.promocode__button');
var promocodeMessage = document.querySelector('.promocode__message');
var promocodeMessageCode = document.querySelector('.promocode__message-code');
var promocodeMessageText = document.querySelector('.promocode__message-text');
var promoDiscount = document.querySelector('.price-list__price--promo');
var promocodesArr = _utils_mock__WEBPACK_IMPORTED_MODULE_0__["promocodes"];
var checkPromocode = function checkPromocode() {
  var promocodeValue = promocodeItem.value.toString();
  if (!promocodeValue.length) {
    return;
  }
  if (promocodesArr.find(function (item) {
    return item.name === promocodeValue;
  })) {
    var promocode = promocodesArr.find(function (item) {
      return item.name === promocodeValue;
    });
    promocode.applied = true;
    promocodeItem.value = '';
    promocodeMessage.classList.add('promocode__message--valid');
    promocodeMessageText.textContent = ' - купон применен';
  } else {
    promocodeItem.value = '';
    promocodeMessage.classList.add('promocode__message--invalid');
    promocodeMessageText.textContent = ' - купон не найден';
  }
  promocodeMessageCode.textContent = promocodeValue;
  calculatePromocodeDiscount();
  promoDiscount.textContent = calculatePromocodeDiscount();
  Object(_product_list__WEBPACK_IMPORTED_MODULE_2__["calculatePriceInSummary"])();
  setTimeout(removePromocodeMessage, 3000);
};
var removePromocodeMessage = function removePromocodeMessage() {
  if (promocodeMessage.classList.contains('promocode__message--valid')) {
    promocodeMessage.classList.remove('promocode__message--valid');
  } else if (promocodeMessage.classList.contains('promocode__message--invalid')) {
    promocodeMessage.classList.remove('promocode__message--invalid');
  }
};
var calculatePromocodeDiscount = function calculatePromocodeDiscount() {
  var summ = promocodesArr.reduce(function (acc, next) {
    var value = 0;
    if (next.applied) {
      value = next.value;
    }
    return acc + value;
  }, 0);
  return Object(_utils_formatter_js__WEBPACK_IMPORTED_MODULE_1__["formatMoneyWithDecimal"])(summ);
};
var applyPromocode = function applyPromocode() {
  promocodeButton.addEventListener('click', checkPromocode);
};
applyPromocode();
calculatePromocodeDiscount();


/***/ }),

/***/ "./js/utils/focus-lock.js":
/*!********************************!*\
  !*** ./js/utils/focus-lock.js ***!
  \********************************/
/*! exports provided: FocusLock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FocusLock", function() { return FocusLock; });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var SELECTORS = ['a[href]', 'area[href]', 'input:not([disabled]):not([type="hidden"]):not([aria-hidden])', 'select:not([disabled]):not([aria-hidden])', 'textarea:not([disabled]):not([aria-hidden])', 'button:not([disabled]):not([aria-hidden])', 'iframe', 'object', 'embed', '[contenteditable]', '[tabindex]:not([tabindex^="-"])'];
var FocusLock = /*#__PURE__*/function () {
  function FocusLock() {
    _classCallCheck(this, FocusLock);
    this._lockedSelector = null;
    this._focusableElements = null;
    this._endElement = null;
    this._selectors = SELECTORS;
    this._documentKeydownHandler = this._documentKeydownHandler.bind(this);
  }
  _createClass(FocusLock, [{
    key: "_documentKeydownHandler",
    value: function _documentKeydownHandler(evt) {
      var activeElement = document.activeElement;
      if (evt.key === 'Tab') {
        if (!this._focusableElements.length) {
          evt.preventDefault();
          activeElement.blur();
          return;
        }
        if (this._focusableElements.length === 1) {
          evt.preventDefault();
          this._focusableElements[0].focus();
          return;
        }
        if (this._focusableElements.length > 1 && !activeElement.closest(this._lockedSelector)) {
          evt.preventDefault();
          this._focusableElements[0].focus();
          return;
        }
      }
      if (evt.key === 'Tab' && !evt.shiftKey && activeElement === this._focusableElements[this._focusableElements.length - 1]) {
        evt.preventDefault();
        this._focusableElements[0].focus();
      }
      if (evt.key === 'Tab' && evt.shiftKey && activeElement === this._focusableElements[0]) {
        evt.preventDefault();
        this._focusableElements[this._focusableElements.length - 1].focus();
      }
    }
  }, {
    key: "lock",
    value: function lock(lockedSelector) {
      var startFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      this.unlock();
      this._lockedSelector = lockedSelector;
      var lockedElement = document.querySelector(this._lockedSelector);
      if (!lockedElement) {
        return;
      }
      this._focusableElements = lockedElement.querySelectorAll(this._selectors);
      this._endElement = document.activeElement;
      var startElement = lockedElement.querySelector('[data-focus]') || this._focusableElements[0];
      if (this._endElement) {
        this._endElement.blur();
      }
      if (startElement && startFocus) {
        startElement.focus();
      }
      document.addEventListener('keydown', this._documentKeydownHandler);
    }
  }, {
    key: "unlock",
    value: function unlock() {
      var returnFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      if (this._endElement && returnFocus) {
        this._endElement.focus();
      }
      this._lockedSelector = null;
      this._focusableElements = null;
      this._endElement = null;
      document.removeEventListener('keydown', this._documentKeydownHandler);
    }
  }]);
  return FocusLock;
}();
window.focusLock = new FocusLock();

/***/ }),

/***/ "./js/utils/formatter.js":
/*!*******************************!*\
  !*** ./js/utils/formatter.js ***!
  \*******************************/
/*! exports provided: formatStringToNumber, formatMoneyWithDecimal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatStringToNumber", function() { return formatStringToNumber; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatMoneyWithDecimal", function() { return formatMoneyWithDecimal; });
var formatMoneyWithDecimal = function formatMoneyWithDecimal(value) {
  var decimalCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var numberFormatted = formatNumberToDecimalReturnsZero(value, decimalCount);
  var splittedNumber = numberFormatted.toString().split('.');
  return splittedNumber[0].replace(/\B(?=(\d{3})+(?!\d))/g, " ") + (splittedNumber[1] ? '.' + splittedNumber[1] : '');
};
var formatNumberToDecimalReturnsZero = function formatNumberToDecimalReturnsZero(value) {
  var decimalCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  value = "".concat(value).replace(/ /g, '').replace(',', '.');
  return isNaN(+value) ? '0.0' : toFixed(+value, decimalCount);
};
var toFixed = function toFixed(number, decimals) {
  var x = Math.pow(10, Number(decimals) + 1);
  return (Number(number) + 1 / x).toFixed(decimals);
};
var formatStringToNumber = function formatStringToNumber(val) {
  if (!val) return 0;
  val = deleteExtraDotsFromNumberStr(val);
  return parseFloat("".concat(val).replace(/\s/g, ''));
};
var deleteExtraDotsFromNumberStr = function deleteExtraDotsFromNumberStr(value) {
  value = "".concat(value).replace(/ /g, '').replace(/,/g, '.');
  return value;
};


/***/ }),

/***/ "./js/utils/ios-checker.js":
/*!*********************************!*\
  !*** ./js/utils/ios-checker.js ***!
  \*********************************/
/*! exports provided: iosChecker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iosChecker", function() { return iosChecker; });
var iosChecker = function iosChecker() {
  return ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'].includes(navigator.platform)
  // iPad on iOS 13 detection
  || navigator.userAgent.includes('Mac') && 'ontouchend' in document;
};

/***/ }),

/***/ "./js/utils/ios-vh-fix.js":
/*!********************************!*\
  !*** ./js/utils/ios-vh-fix.js ***!
  \********************************/
/*! exports provided: iosVhFix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iosVhFix", function() { return iosVhFix; });
/* harmony import */ var _ios_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ios-checker */ "./js/utils/ios-checker.js");

var iosVhFix = function iosVhFix() {
  if (!(!!window.MSInputMethodContext && !!document.documentMode)) {
    if (Object(_ios_checker__WEBPACK_IMPORTED_MODULE_0__["iosChecker"])()) {
      var vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', "".concat(vh, "px"));
      window.addEventListener('resize', function () {
        vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', "".concat(vh, "px"));
      });
    }
  }
};


/***/ }),

/***/ "./js/utils/mock.js":
/*!**************************!*\
  !*** ./js/utils/mock.js ***!
  \**************************/
/*! exports provided: products, promocodes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "products", function() { return products; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "promocodes", function() { return promocodes; });
var products = [{
  name: 'Утепленная стеганная куртка женская Top Hills',
  image: {
    jpg: './img/top-hills.jpg',
    jpg2x: './img/top-hills@2x.jpg',
    webp: './img/top-hills.webp',
    webp2x: './img/top-hills@2x.webp'
  },
  code: '512-05',
  season: 'Осень-зима',
  price: 12000,
  discount: 2000,
  count: 2,
  size: [{
    value: 'XS',
    availible: true,
    checked: false
  }, {
    value: 'S',
    availible: true,
    checked: false
  }, {
    value: 'M',
    availible: true,
    checked: true
  }, {
    value: 'L',
    availible: true,
    checked: false
  }, {
    value: 'XL',
    availible: true,
    checked: false
  }],
  color: [{
    name: 'Черный',
    value: 'black',
    color: '#444444',
    checked: true
  }, {
    name: 'Cиний',
    value: 'blue',
    color: '#106DA2',
    checked: false
  }, {
    name: 'Коричневый',
    value: 'brown',
    color: '#AE6D0C',
    checked: false
  }],
  deleted: false
}, {
  name: 'Наименование товара',
  image: {
    jpg: './img/zolla.jpg',
    jpg2x: './img/zolla@2x.jpg',
    webp: './img/zolla.webp',
    webp2x: './img/zolla@2x.webp'
  },
  code: '891-257',
  season: 'Демисезон',
  price: 500,
  discount: 0,
  count: 1,
  size: [{
    value: 'XS',
    availible: true,
    checked: false
  }, {
    value: 'S',
    availible: true,
    checked: true
  }, {
    value: 'M',
    availible: true,
    checked: false
  }, {
    value: 'L',
    availible: false,
    checked: false
  }, {
    value: 'XL',
    availible: false,
    checked: false
  }],
  color: [{
    name: 'Черный',
    value: 'black',
    color: '#444444',
    checked: true
  }],
  deleted: true
}, {
  name: 'Вязанная шапка Zolla',
  image: {
    jpg: './img/zolla.jpg',
    jpg2x: './img/zolla@2x.jpg',
    webp: './img/zolla.webp',
    webp2x: './img/zolla@2x.webp'
  },
  code: '891-256',
  season: 'Демисезон',
  price: 500,
  discount: 0,
  count: 1,
  size: [{
    value: 'XS',
    availible: true,
    checked: false
  }, {
    value: 'S',
    availible: true,
    checked: true
  }, {
    value: 'M',
    availible: true,
    checked: false
  }, {
    value: 'L',
    availible: false,
    checked: false
  }, {
    value: 'XL',
    availible: false,
    checked: false
  }],
  color: [{
    name: 'Черный',
    value: 'black',
    color: '#444444',
    checked: true
  }],
  deleted: false
}];
var promocodes = [{
  name: '1B6D9FC',
  value: 500,
  applied: true
}, {
  name: '123456',
  value: 1000,
  applied: false
}];


/***/ }),

/***/ "./js/utils/scroll-lock.js":
/*!*********************************!*\
  !*** ./js/utils/scroll-lock.js ***!
  \*********************************/
/*! exports provided: ScrollLock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScrollLock", function() { return ScrollLock; });
/* harmony import */ var _ios_checker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ios-checker */ "./js/utils/ios-checker.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

var ScrollLock = /*#__PURE__*/function () {
  function ScrollLock() {
    _classCallCheck(this, ScrollLock);
    this._iosChecker = _ios_checker__WEBPACK_IMPORTED_MODULE_0__["iosChecker"];
    this._lockClass = this._iosChecker() ? 'scroll-lock-ios' : 'scroll-lock';
    this._scrollTop = null;
    this._fixedBlockElements = document.querySelectorAll('[data-fix-block]');
  }
  _createClass(ScrollLock, [{
    key: "_getScrollbarWidth",
    value: function _getScrollbarWidth() {
      return window.innerWidth - document.documentElement.clientWidth;
    }
  }, {
    key: "_getBodyScrollTop",
    value: function _getBodyScrollTop() {
      return self.pageYOffset || document.documentElement && document.documentElement.ScrollTop || document.body && document.body.scrollTop;
    }
  }, {
    key: "disableScrolling",
    value: function disableScrolling() {
      var _this = this;
      this._scrollTop = document.body.dataset.scroll = document.body.dataset.scroll ? document.body.dataset.scroll : this._getBodyScrollTop();
      if (this._getScrollbarWidth()) {
        document.body.style.paddingRight = "".concat(this._getScrollbarWidth(), "px");
        this._fixedBlockElements.forEach(function (block) {
          block.style.paddingRight = "".concat(_this._getScrollbarWidth(), "px");
        });
      }
      document.body.style.top = "-".concat(this._scrollTop, "px");
      document.body.classList.add(this._lockClass);
    }
  }, {
    key: "enableScrolling",
    value: function enableScrolling() {
      document.body.classList.remove(this._lockClass);
      window.scrollTo(0, +document.body.dataset.scroll);
      document.body.style.paddingRight = null;
      document.body.style.top = null;
      this._fixedBlockElements.forEach(function (block) {
        block.style.paddingRight = null;
      });
      document.body.removeAttribute('data-scroll');
      this._scrollTop = null;
    }
  }]);
  return ScrollLock;
}();
window.scrollLock = new ScrollLock();

/***/ })

/******/ });
//# sourceMappingURL=main.min.js.map